# ===== SYNCDUB MVP - CONFIGURACIÓN CORREGIDA =====
# Este archivo muestra la configuración CORRECTA usando .env
# Copia este archivo como .env y personaliza según tu entorno

# === CONFIGURACIÓN BÁSICA ===
FLASK_ENV=production
SECRET_KEY=9879-8adsf90sd98f7sd98-
APP_PORT=5000
DEFAULT_ADMIN_USER=admin
DEFAULT_ADMIN_PASSWORD=admin
DATABASE_URL=sqlite:////app/syncdub.db

# === DIRECTORIOS (Personaliza según tu setup) ===
MEDIA_SOURCE_PATH=/mnt/nfs/media
# Local directories for application data
UPLOADS_DIR=/home/altoke/docker/syncdub-mvp/uploads
OUTPUT_DIR=/mnt/nfs/media/output_merged
MODELS_DIR=/home/altoke/docker/syncdub-mvp/models

# === CONFIGURACIÓN NFS ===
MEDIA_SOURCE_ENABLED=true
PUID=1000
PGID=1000

# === RECURSOS GPU ===
NVIDIA_VISIBLE_DEVICES=all
NVIDIA_DRIVER_CAPABILITIES=compute,utility
MAX_MEMORY=8G
MAX_CPUS=4.0
RESERVED_MEMORY=2G
RESERVED_CPUS=1.0

# === MODELOS IA ===
WHISPER_MODEL=medium
SENTENCE_TRANSFORMER_MODEL=paraphrase-multilingual-MiniLM-L12-v2
SIMILARITY_THRESHOLD=0.7

# === CONFIGURACIÓN DE ARCHIVOS ===
MAX_CONTENT_LENGTH=21474836480
ALLOWED_EXTENSIONS=mp4,avi,mkv,mov,wmv,flv,webm

# === CONFIGURACIÓN DE AUDIO ===
AUDIO_SAMPLE_RATE=16000
AUDIO_FORMAT=wav
OUTPUT_AUDIO_BITRATE=192k

# === CONFIGURACIÓN DE PROCESAMIENTO ===
NUM_THREADS=0
AUDIO_CHUNK_SIZE=60
MAX_PROCESSING_TIME=3600

# === CONFIGURACIÓN DE LIMPIEZA ===
AUTO_CLEANUP=true
TASK_RETENTION_HOURS=24

# === CONFIGURACIÓN DE LOGGING ===
LOG_LEVEL=INFO
FFMPEG_VERBOSE=false
MEMORY_MONITORING=true

# === CONFIGURACIÓN DE RED ===
CONTAINER_NAME=syncdub-mvp
NETWORK_NAME=syncdub-network
NETWORK_SUBNET=172.30.0.0/16
RESTART_POLICY=unless-stopped

# === CONFIGURACIÓN DE HEALTHCHECK ===
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=60s

# === CONFIGURACIÓN DE LOGGING ===
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# === NOMBRES DE VOLÚMENES ===
UPLOADS_VOLUME=syncdub_uploads
OUTPUT_VOLUME=syncdub_output
MODELS_VOLUME=syncdub_models
MEDIA_VOLUME=syncdub_media

# Temperatura para transcripción (0.4 es la mejor según las pruebas)
TRANSCRIPTION_TEMPERATURE=0.4

# Idioma de transcripción
TRANSCRIPTION_LANGUAGE=es

# Prompt inicial para mejorar calidad
TRANSCRIPTION_INITIAL_PROMPT=Transcripción de película en español. Diálogos claros y naturales.


# Modo de prueba (limitar duración para evitar sobrecarga)
TRANSCRIPTION_TEST_MODE=true
TRANSCRIPTION_TEST_DURATION=900

# Configuración de calidad
COMPRESSION_RATIO_THRESHOLD=2.4
LOGPROB_THRESHOLD=-1.0
NO_SPEECH_THRESHOLD=0.6

# Configuración de memoria
MAX_MEMORY_USAGE=0.85 